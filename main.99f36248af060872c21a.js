(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(i,t,n){},QfWi:function(i,t,n){"use strict";n.r(t);n("IlJM"),n("uQK7"),n("Xlt+"),n("L1EO");var e=n("GaZT"),o=function(i,t){this.id=i,this.isFull=!1,this.isOccupied=!1,this.incline=t},r=n("Nyph"),d=new e.a({width:800,height:800,backgroundColor:1087931,resolution:window.devicePixelRatio||1});document.body.appendChild(d.view);var c=new e.b;d.stage.addChild(c);var a=e.c,u=[],s=[],l=[],f=new a;f.lineStyle(4,16777215,1),f.moveTo(30,200),f.lineTo(30,0),f.x=300,f.y=0,d.stage.addChild(f);var p=new a;p.lineStyle(4,16777215,1),p.moveTo(30,400),p.lineTo(30,600),p.x=300,p.y=0,d.stage.addChild(p);var h=document.querySelector(".container"),g=document.createElement("div"),y=document.createElement("div"),w=document.createElement("div"),v=document.createElement("div");g.classList.add("port"),g.classList.add("port-1"),y.classList.add("port"),y.classList.add("port-2"),w.classList.add("port"),w.classList.add("port-3"),v.classList.add("port"),v.classList.add("port-4"),h.appendChild(g),h.appendChild(y),h.appendChild(w),h.appendChild(v);var b=new o(1,48),m=new o(2,.3),x=new o(3,2.8),L=new o(4,2.3),O=[g,y,w,v],T=[b,m,x,L];function F(i,t,n){new r.Tween({left:""+i.x,top:""+i.y}).to({left:""+t,top:""+n},4e3).easing(r.Easing.Linear.None).onUpdate((function(t){S(i,t)})).start();S(i,{left:""+i.y,top:""+i.x})}function C(i){requestAnimationFrame(C),r.update(i)}function k(){return Math.floor(Math.random()*Math.floor(2))?{type:"green",isLoaded:!1,color:65280,bg:16777215,direction:"toPort"}:{type:"red",isLoaded:!0,color:16711680,bg:16711680,direction:"toPort"}}function P(i){u.push("ship");var t=new a;return t.id=u.length,t.type=i.type,t.isLoaded=i.isLoaded,t.color=i.color,t.bg=i.bg,t.direction=i.direction,t.lineStyle(3,""+i.color,1),t.beginFill(i.bg),t.drawRect(0,0,60,24),t.endFill(),t.x=760,t.y=290,t.pivot.x=t.width/2,t.pivot.y=t.height/2,d.stage.addChild(t),s.push(t),function(i,t){"red"===t.type?function(i,t){var n=i.find((function(i){return!1===i.isFull&&!1===i.isOccupied}));if(!n)return F(t,700,240),void(t.rotation=48);n.isOccupied=!0,t.goingToPort=n.id,F(t,270,290)}(i,t):function(i,t){var n=i.find((function(i){return!0===i.isFull&&!1===i.isOccupied}));if(!n)return F(t,700,240),void(t.rotation=48);n.isOccupied=!0,t.goingToPort=n.id,F(t,270,290)}(i,t)}(T,t),t}function E(i,t){"red"===i.type?function(i,t){i.tint=0,O[""+T.indexOf(t)].style.backgroundColor="rgb(255, 215, 0)",t.isFull=!0,i.isLoaded=!1,F(i,270,330),t.isOccupied=!1,i.rotation=t.incline}(i,t):function(i,t){i.tint=65280,O[""+T.indexOf(t)].style.backgroundColor="rgb(255, 255, 255)",t.isFull=!1,i.isLoaded=!0,F(i,270,330),t.isOccupied=!1,i.rotation=t.incline}(i,t)}function M(i){if(270===i.x&&290===i.y)switch(i.goingToPort){case 1:F(i,60,120),i.rotation=b.incline;break;case 2:F(i,60,234),i.rotation=m.incline;break;case 3:F(i,60,366),i.rotation=x.incline;break;case 4:i.rotation=2.3,F(i,60,498),i.rotation=L.incline}}function S(i,t){var n;i.x=t.left,i.y=t.top,M(i),60===(n=i).x&&120===n.y?(n.rotation=0,setTimeout((function(){E(n,b)}),5e3)):60===n.x&&234===n.y?(n.rotation=0,setTimeout((function(){E(n,m)}),5e3)):60===n.x&&366===n.y?(n.rotation=0,setTimeout((function(){E(n,x)}),5e3)):60===n.x&&498===n.y&&(n.rotation=0,setTimeout((function(){E(n,L)}),5e3)),function(i){270===i.x&&330===i.y&&(i.rotation=0,F(i,760,330))}(i),M(i),function(i){760===i.x&&330===i.y&&(i.width=0,i.height=0,u.pop(),s.splice(i.id-1,1))}(i),function(i){if(700===i.x&&240===i.y)switch(l.length){case 0:F(i,400,240),i.rotation=0,l.push(i);break;case 1:F(i,500,240),i.rotation=0,l.push(i);break;case 2:F(i,600,240),i.rotation=0,l.push(i);break;default:console.log("Full queue")}}(i),l.length>0&&function(i){if(400===i.x&&240===i.y)if("green"===i.type){if(!T.find((function(i){return!i.isOccupied&&i.isFull})))return;F(l[0],270,290),t(T,l[0]),l.shift(l[0]),F(l[0],400,240)}else if("red"===i.type){if(!T.find((function(i){return!i.isOccupied&&!i.isFull})))return;F(l[0],270,290),t(T,l[0]),l.shift(l[0]),F(l[0],400,240)}function t(i,t){"red"===t.type?function(i,t){var n=i.find((function(i){return!1===i.isFull&&!1===i.isOccupied}));if(!n)return;n.isOccupied=!0,t.goingToPort=n.id}(i,t):function(i,t){var n=i.find((function(i){return!0===i.isFull&&!1===i.isOccupied}));if(!n)return;n.isOccupied=!0,t.goingToPort=n.id}(i,t)}}(l[0])}window.onload=function(){P(k()),setInterval((function(){P(k())}),8e3),C()}}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.99f36248af060872c21a.js.map